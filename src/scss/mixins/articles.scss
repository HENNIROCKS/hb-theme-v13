@use "../placeholders/button";
@use "../placeholders/image";
@use "icon";

@mixin articles($option) {
  .articles {
    text-align: center;

    &__list {
      display: grid;
      grid-row-gap: var(--spacing-base);

      @media (min-width: 768px) {
        grid-column-gap: var(--spacing-base);
        grid-template-columns: repeat(3, 1fr);
      }

      &--pinned {
        margin-bottom: var(--spacing-large);

        @media (min-width: 768px) {
          grid-template-columns: repeat(2, 1fr);
        }

        // TODO: Properly add pushpin icon to font set
        .article__preview:before {
          background-color: var(--color-white-base);
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='32' height='32' fill='currentColor'%3E%3Cpath d='M13.8273 1.69L22.3126 10.1753L20.8984 11.5895L20.1913 10.8824L15.9486 15.125L15.2415 18.6606L13.8273 20.0748L9.58466 15.8321L4.63492 20.7819L3.2207 19.3677L8.17045 14.4179L3.92781 10.1753L5.34202 8.76107L8.87756 8.05396L13.1202 3.81132L12.4131 3.10422L13.8273 1.69ZM14.5344 5.22554L9.86358 9.89637L7.0417 10.4607L13.5418 16.9609L14.1062 14.139L18.7771 9.46818L14.5344 5.22554Z'%3E%3C/path%3E%3C/svg%3E");
          background-position: center;
          background-repeat: no-repeat;
          border-radius: 50%;
          content: "";
          height: calc(32px + 10px);
          position: absolute;
          right: 1em;
          top: 1em;
          width: calc(32px + 10px);
        }
      }
    }

    @if $option == "hasButton" {
      &__button {
        @extend %button;
        @include icon.icon("plus");
        margin: var(--spacing-large) 0;
      }
    }
  }

  .article {
    &__preview {
      align-items: center;
      border-radius: var(--radius-base);
      border: 1px solid var(--color-text-lightmode);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      position: relative;

      @media (prefers-color-scheme: dark) {
        border-color: var(--color-text-darkmode-muted);
      }

      &--short {
        &:before {
          content: "â€¦";
        }
      }

      &:focus,
      &:hover {
        border-color: var(--color-link);
        color: var(--color-link);
      }
    }

    &__link {
      height: 100%;
      left: 0;
      position: absolute;
      right: 0;
      width: 100%;
    }

    &__image {
      @extend %image;
      border-top-left-radius: var(--radius-base);
      border-top-right-radius: var(--radius-base);
    }

    &__title {
      font-weight: var(--font-bold);
      padding: var(--spacing-base) 0;
    }

    &__date {
      display: block;
      font-size: var(--text-small);
    }
  }
}
